<div class="row" style="width: 100%">

    <div class="card" style="width: 80%; margin: auto; position: relative">
        <div class="card-header">
            <h2 class="card-title">{{filmItem.title}}</h2>
            <!--        <ul class="nav nav-tabs card-header-tabs">
                        <li class="nav-item">
                            <a class="nav-link active" href="#">Active</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Link</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link disabled" href="#">Disabled</a>
                        </li>
                    </ul>-->
        </div>
        <div class="card-body">
            <iframe id="featureVideo" width="100%" height="500px" frameborder="0" allowfullscreen="allowfullscreen"
                    mozallowfullscreen="mozallowfullscreen" msallowfullscreen="msallowfullscreen"
                    oallowfullscreen="oallowfullscreen" webkitallowfullscreen="webkitallowfullscreen"
                    title="YouTube video player"
                    type="text/html" [src]="url" class="vh-80-lg"
                    sandbox="allow-scripts allow-same-origin allow-presentation">
            </iframe>


            <br>


        </div>

        <div class="card__info-desc">
            <ul class="list-group list-group-flush">
                <li class="list-group-item">Première sortie : <b>{{filmItem.dateSortie}}</b></li>
                <li class="list-group-item">Qualité : <b>{{filmItem.quality}}</b></li>
                <li class="list-group-item"><b>{{filmItem.numVisits}}</b> utilisateurs ont regardé ce film</li>



                        <li class="list-group-item">Evaluation :

                    <div style="display: flex; width: 60%; margin: auto">
                        <div style="flex: 1">
                            <h1 style="display: table-cell; vertical-align: middle; text-align: center; color: #FFD700; font-size: 100px">{{sumReview.mogen}}</h1>
                        </div>

                        <div>
                            <div class="mb-3">
                                <mat-icon  role="img" aria-hidden="true" class="amber-600-fg mat-icon notranslate material-icons mat-icon-no-color">star</mat-icon>
                                <mat-icon  role="img" aria-hidden="true" class="amber-600-fg mat-icon notranslate material-icons mat-icon-no-color">star</mat-icon>
                                <mat-icon  role="img" aria-hidden="true" class="amber-600-fg mat-icon notranslate material-icons mat-icon-no-color">star</mat-icon>
                                <mat-icon  role="img" aria-hidden="true" class="amber-600-fg mat-icon notranslate material-icons mat-icon-no-color">star</mat-icon>
                                <mat-icon  role="img" aria-hidden="true" class="amber-600-fg mat-icon notranslate material-icons mat-icon-no-color">star</mat-icon>
                                <mat-progress-bar mode="determinate" value="{{sumReview.five}}" style="width: 500px;" ></mat-progress-bar>
                            </div>
                            <div class="mb-3">
                                <mat-icon  role="img" aria-hidden="true" class="amber-600-fg mat-icon notranslate material-icons mat-icon-no-color">star</mat-icon>
                                <mat-icon  role="img" aria-hidden="true" class="amber-600-fg mat-icon notranslate material-icons mat-icon-no-color">star</mat-icon>
                                <mat-icon  role="img" aria-hidden="true" class="amber-600-fg mat-icon notranslate material-icons mat-icon-no-color">star</mat-icon>
                                <mat-icon  role="img" aria-hidden="true" class="amber-600-fg mat-icon notranslate material-icons mat-icon-no-color">star</mat-icon>
                                 <mat-progress-bar id="5st" mode="determinate" value="{{sumReview.four}}" style="width: 500px;"></mat-progress-bar>
                            </div>
                            <div class="mb-3">
                                <mat-icon  role="img" aria-hidden="true" class="amber-600-fg mat-icon notranslate material-icons mat-icon-no-color">star</mat-icon>
                                <mat-icon  role="img" aria-hidden="true" class="amber-600-fg mat-icon notranslate material-icons mat-icon-no-color">star</mat-icon>
                                <mat-icon  role="img" aria-hidden="true" class="amber-600-fg mat-icon notranslate material-icons mat-icon-no-color">star</mat-icon>
                                <mat-progress-bar mode="determinate" value="{{sumReview.three}}" style="width: 500px;"></mat-progress-bar>
                            </div>
                            <div class="mb-3">
                                <mat-icon  role="img" aria-hidden="true" class="amber-600-fg mat-icon notranslate material-icons mat-icon-no-color">star</mat-icon>
                                <mat-icon  role="img" aria-hidden="true" class="amber-600-fg mat-icon notranslate material-icons mat-icon-no-color">star</mat-icon>
                                 <mat-progress-bar mode="determinate" value="{{sumReview.two}}" style="width: 500px;"></mat-progress-bar>
                            </div>
                            <div class="mb-3">
                                <mat-icon  role="img" aria-hidden="true" class="amber-600-fg mat-icon notranslate material-icons mat-icon-no-color">star</mat-icon>
                                 <mat-progress-bar mode="determinate" value="{{sumReview.one}}" style="width: 500px;"></mat-progress-bar>
                            </div>
                        </div>


                    </div>

                        </li>



            </ul>
        </div>

        <!-- <div *ngIf="username != null" style="width:500px; float: right; display: flex; justify-content: space-around">-->

        <div class="card-footer text-center">
            <div class="row">
                <!--        <div class ="col" *ngIf="filmItem.free === false">
                            <button class="golden-btn">Buy Now</button>
                        </div> -->

                <div class="col" *ngIf="filmItem.free === false">
                    <google-pay-button
                        environment="TEST"
                        buttonType="buy"
                        buttonColor="white"
                        [paymentRequest]="paymentRequest"
                        (loadeddata)="onLoadPaymentData($event)"
                        (error)="onError($event)"
                        [paymentAuthorizedCallback]="onPaymentDataAuthorized">

                    </google-pay-button>
                </div>

                <div class="col">
                    <a target="_blank" [href]="urlShare" class="fb-xfbml-parse-ignore">
                        <button type="button" class="btn btn-outline-primary" (click)="editFilm(filmItem)"
                                style="font-size: 15px; ">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-share" viewBox="0 0 16 16">
                                <path
                                    d="M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"/>
                            </svg>
                            Share
                        </button>
                    </a>
                </div>
                <div class="col">
                    <button type="button" class="btn btn-outline-danger" (click)="deleteFilm($event)"
                            style="font-size: 15px; ">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                             class="bi bi-trash" viewBox="0 0 16 16">
                            <path
                                d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"></path>
                            <path fill-rule="evenodd"
                                  d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"></path>
                        </svg>
                        Delete
                    </button>
                </div>
                <div class="col">
                    <button type="button" class="btn btn-outline-success" (click)="editFilm(filmItem)"
                            style="font-size: 15px; ">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                             class="bi bi-pencil" viewBox="0 0 16 16">
                            <path
                                d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"></path>
                        </svg>
                        Update
                    </button>
                </div>

                <div class="col">
                    <a [href]="url" download="kiko">
                        <button type="button" class="btn btn-outline-dark" style="font-size: 15px; ">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-download" viewBox="0 0 16 16">
                                <path
                                    d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                                <path
                                    d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
                            </svg>
                            Download
                        </button>
                    </a>
                </div>
            </div>
        </div>

    </div>


    <br>


    <div class="card" style="width: 80%; margin: auto; position: relative">
        <br><br>


        <div class="mb-3" style="width: 50%; margin: auto">
            <h3><label for="rate" class="form-label">Rate this movie and write a review</label></h3>
            <br>
            <input type="range" name="rate" id="rate" min="0" max="5" [(ngModel)]="rate">
            {{rate}}
            <br>
            <br>
            <label for="exampleFormControlTextarea1" class="form-label">Write or edit your comment from here</label>
            <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"  #commentInput></textarea>

            <br>
            <button type="button" class="btn btn-primary" style="float:right" (click)="addReview(commentInput.value)" [disabled]="commentInput.textLength == 0">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-left-quote-fill" viewBox="0 0 16 16">
                    <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4.414a1 1 0 0 0-.707.293L.854 15.146A.5.5 0 0 1 0 14.793V2zm7.194 2.766a1.688 1.688 0 0 0-.227-.272 1.467 1.467 0 0 0-.469-.324l-.008-.004A1.785 1.785 0 0 0 5.734 4C4.776 4 4 4.746 4 5.667c0 .92.776 1.666 1.734 1.666.343 0 .662-.095.931-.26-.137.389-.39.804-.81 1.22a.405.405 0 0 0 .011.59c.173.16.447.155.614-.01 1.334-1.329 1.37-2.758.941-3.706a2.461 2.461 0 0 0-.227-.4zM11 7.073c-.136.389-.39.804-.81 1.22a.405.405 0 0 0 .012.59c.172.16.446.155.613-.01 1.334-1.329 1.37-2.758.942-3.706a2.466 2.466 0 0 0-.228-.4 1.686 1.686 0 0 0-.227-.273 1.466 1.466 0 0 0-.469-.324l-.008-.004A1.785 1.785 0 0 0 10.07 4c-.957 0-1.734.746-1.734 1.667 0 .92.777 1.666 1.734 1.666.343 0 .662-.095.931-.26z"></path>
                </svg>
                Comment
            </button>
        </div>
        <app-all-comment [movieId]="filmItem.id"></app-all-comment>
    </div>

    <br>
    <app-all-others [categoryId]="this.filmItem.MovieCategories"></app-all-others>

</div>









